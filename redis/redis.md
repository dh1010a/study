# Redis 알아보기

## Redis란?
- 고성능 Key-Value 구조의 저장소
- 비정형 데이터를 저장, 관리하기 위한 오픈 소스 기반의 NoSQL
- In-Memory 데이터 구조를 가진 저장소
- DB, Cache, Message Queue, Shared Memory 용도로 사용

> **인메모리 ( In-Memory )**
> - 컴퓨터의 주기억장치인 RAM에 데이터를 올려서 사용하는 방법
> - RAM에 데이터를 저장하게 되면 메모리 내부에서 처리가 되므로데이터를 저장/조회할 때 하드디스크를 오고가는 과정을 거치지 않아도 되어 **속도가 빠름**
> - 그러나 서버의 메모리 용량을 초과하는 데이터를 처리할 경우,RAM의 특성인 **휘발성**에 따라 **데이터가 유실**될 수 있음

### 캐시란?
캐시(Cache) : Temporary Location For Speed

데이터의 원래 소스보다 더 빠르고 효율적으로 엑세스할 수 있는 임시 데이터 저장소

- 원본(Origin)보다 빠른 접근 속도
- 같은 데이터에 대한 반복적인 엑세스
- 잘 변하지 않는 데이터

Redis는 캐시로 활용하기에 가장 효과적이고 효율적인 소프트웨어

1. 빠른 성능
2. 평균 작업속도 < 1ms
3. 초당 수백만건의 작업 가능

레디스는 인메모리 데이터 저장소가 가지는 휘발성의 특성으로 데이터가 유실될 경우를 방지하여 백업 기능을 제공

### 백업 전략
인메모리 데이터 저장소가 가지는 휘발성의 특성으로 데이터가 유실될 경우를 방지하여 백업 기능을 제공

- AOF (Append On File) 방식➜ Redis의 모든 write/update 연산 자체를 모두 log 파일에 기록하는 형태
- RDB(Snapshotting) 방식➜ 순간적으로 메모리에 있는 내용 전체를 디스크에 담아 영구 저장하는 방식

### 싱글 스레드

레디스는 싱글 스레드로 모든 명령을 처리함. 한번에 하나의 명령만 수행이 가능하므로 Race Condition이 거의 발생하지 않음

> **Race condition**

> - 공유 자원에 대해 여러 프로세스가 동시에 접근을 시도할 때, 타이밍이나 순서 등이 결과값에 영향을 줄 수 있는 상태
> - 즉, 두개의 스레드가 하나의 자원을 놓고 서로 사용하려고 경쟁하는 상황에서 발생
> - 프로그램의 일관성과 정확성을 손상시킬 수 있음 
> - Ex:  두개의 스레드 A, B가 X라는 공유변수를 사용하는데, A의 역할은 X에 `+ 1` 후 저장 / B의 역할은 X에 `1` 후 저장일 때 A가 X를 읽은 후 B가 실행되기 전에 결과를 저장한다고 하면, A의 결과가 스레드 B의 결과데 덮어씌워지게 됨
> 
> [참고 자료](https://iredays.tistory.com/125)